<div class="mat-elevation-z8" >
  <div class="widget-container">
    <!-- Sliding Filter -->
    <div class="fixed-icon" (click)="toggleFilter()">
      <i class="fa-solid fa-filter" *ngIf="!isFilterMode"></i>
      <i class="fa-solid fa-xmark" *ngIf="isFilterMode"></i>
    </div>
    <div class="sliding-filter" [ngClass]="{ open: isFilterMode }">
      <div class="filter-content">
        <input
          type="text"
          placeholder="ID"
          [(ngModel)]="filterValues.ID"
          (keyup)="applyFilter('ID', $event)"
        />
        <input
          type="text"
          placeholder="Name"
          [(ngModel)]="filterValues.name"
          (keyup)="applyFilter('name', $event)"
        />
        <input
          type="text"
          placeholder="Country"
          [(ngModel)]="filterValues.country"
          (keyup)="applyFilter('country', $event)"
        />
        <input
          type="text"
          placeholder="Age"
          [(ngModel)]="filterValues.age"
          (keyup)="applyFilter('age', $event)"
        />
      </div>
    </div>
    <!-- Table Container -->
    <div class="table-container">
      <table mat-table [dataSource]="dataSource" matSort>
        <!-- Checkbox Column -->
        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox
              class="checkbox select-all"
              (change)="toggleAllSelection($event)"
              [checked]="isAllSelected()"
              [indeterminate]="isSomeSelected()"
            >
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let user">
            <mat-checkbox
              (change)="onRowCheckboxChange($event, user)"
              [checked]="selection.has(user)"
            >
            </mat-checkbox>
          </td>
        </ng-container>

        <!-- ID Column -->
        <ng-container matColumnDef="ID">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
          <td mat-cell *matCellDef="let user">{{ user.ID }}</td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
          <td mat-cell *matCellDef="let user">{{ user.name }}</td>
        </ng-container>

        <!-- Country Column -->
        <ng-container matColumnDef="country">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Country</th>
          <td mat-cell *matCellDef="let user">{{ user.country }}</td>
        </ng-container>

        <!-- Age Column -->
        <ng-container matColumnDef="age">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Age</th>
          <td mat-cell *matCellDef="let user">{{ user.age }}</td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns"
          class="header-row"
        ></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <mat-paginator
        [pageSizeOptions]="[5, 10, 15]"
        showFirstLastButtons
        class="paginator"
      ></mat-paginator>
    </div>
  </div>
</div>
